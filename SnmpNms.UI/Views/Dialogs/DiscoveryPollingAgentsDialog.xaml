<Window x:Class="SnmpNms.UI.Views.Dialogs.DiscoveryPollingAgentsDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Discovery/Polling Agents..." Height="550" Width="700"
        WindowStartupLocation="CenterOwner"
        ResizeMode="CanResize"
        MinHeight="500" MinWidth="650">
    <Grid Margin="12">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- Main Content Area -->
        <Grid Grid.Row="0" Margin="0,0,0,12">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="200"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            
            <!-- Left: Polling Agents List -->
            <GroupBox Grid.Column="0" Header="Polling Agents" Padding="8">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    
                    <ListView Name="lstAgents" Grid.Row="0" SelectionChanged="LstAgents_SelectionChanged">
                        <ListView.View>
                            <GridView>
                                <GridViewColumn Header="Address" Width="80" DisplayMemberBinding="{Binding Address}"/>
                                <GridViewColumn Header="Status" Width="80" DisplayMemberBinding="{Binding Status}"/>
                            </GridView>
                        </ListView.View>
                    </ListView>
                </Grid>
            </GroupBox>
            
            <GridSplitter Grid.Column="1" Width="5" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Background="#E0E0E0"/>
            
            <!-- Right: Configuration Tabs -->
            <TabControl Grid.Column="2" Name="tabConfig">
                <!-- General Tab -->
                <TabItem Header="General">
                    <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="12">
                        <StackPanel>
                            <GroupBox Header="Discovery Config" Margin="0,0,0,12">
                                <StackPanel Margin="8">
                                    <CheckBox Name="chkEnableDiscovery" Content="Enable Discovery" Margin="0,4"/>
                                    <CheckBox Name="chkUseSubnetBroadcasts" Content="Use Subnet Broadcasts" IsChecked="True" Margin="0,4"/>
                                    <CheckBox Name="chkPingScanSubnets" Content="Ping Scan Subnets" IsChecked="True" Margin="0,4"/>
                                    <StackPanel Orientation="Horizontal" Margin="0,8,0,4">
                                        <TextBlock Text="Auto Restart Time (hours):" VerticalAlignment="Center" Margin="0,0,8,0"/>
                                        <TextBox Name="txtAutoRestartTime" Width="60" Text="1" VerticalAlignment="Center"/>
                                        <Button Content="Restart" Margin="8,0,0,0" Padding="8,2" Click="BtnRestart_Click"/>
                                    </StackPanel>
                                </StackPanel>
                            </GroupBox>
                            
                            <GroupBox Header="Polling Config">
                                <StackPanel Margin="8">
                                    <CheckBox Name="chkEnableStatusPolling" Content="Enable Status Polling" IsChecked="True" Margin="0,4"/>
                                    <CheckBox Name="chkEnableServicePolling" Content="Enable Service Polling" IsChecked="True" Margin="0,4"/>
                                </StackPanel>
                            </GroupBox>
                        </StackPanel>
                    </ScrollViewer>
                </TabItem>
                
                <!-- Proto Tab -->
                <TabItem Header="Proto">
                    <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="12">
                        <StackPanel>
                            <GroupBox Header="Find Options">
                                <StackPanel Margin="8">
                                    <CheckBox Name="chkFindNonSnmpNodes" Content="Find Non-SNMP (Ping) Nodes" IsChecked="True" Margin="0,4"/>
                                    <CheckBox Name="chkFindRmonDevices" Content="Find RMON Devices" IsChecked="True" Margin="0,4"/>
                                    
                                    <GroupBox Header="Find SNMP Versions" Margin="0,8,0,0">
                                        <Grid Margin="8">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <CheckBox Grid.Column="0" Name="chkFindSnmpV1" Content="SNMP v1" IsChecked="True" Margin="0,4"/>
                                            <CheckBox Grid.Column="1" Name="chkFindSnmpV2" Content="SNMP v2c" IsChecked="True" Margin="0,4"/>
                                            <CheckBox Grid.Column="2" Name="chkFindSnmpV3" Content="SNMP v3" IsChecked="True" Margin="0,4"/>
                                        </Grid>
                                    </GroupBox>
                                    
                                    <GroupBox Header="Find TCP Ports" Margin="0,8,0,0">
                                        <Grid Margin="8">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <StackPanel Grid.Column="0">
                                                <CheckBox Name="chkFindWeb" Content="WEB" IsChecked="True" Margin="0,4"/>
                                                <CheckBox Name="chkFindSmtp" Content="SMTP" IsChecked="True" Margin="0,4"/>
                                            </StackPanel>
                                            <StackPanel Grid.Column="1">
                                                <CheckBox Name="chkFindTelnet" Content="Telnet" Margin="0,4"/>
                                                <CheckBox Name="chkFindFtp" Content="FTP" Margin="0,4"/>
                                            </StackPanel>
                                        </Grid>
                                    </GroupBox>
                                </StackPanel>
                            </GroupBox>
                        </StackPanel>
                    </ScrollViewer>
                </TabItem>
                
                <!-- Seeds Tab -->
                <TabItem Header="Seeds">
                    <Grid Margin="12">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        
                        <StackPanel Grid.Row="0" Margin="0,0,0,12">
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                                <TextBlock Text="Seed IP/CIDR:" VerticalAlignment="Center" Width="100"/>
                                <TextBox Name="txtSeedIpAddr" Width="200" Margin="0,0,8,0" ToolTip="CIDR format: 192.168.0.0/24 or separate IP and netmask"/>
                                <TextBlock Text="Netmask (optional):" VerticalAlignment="Center" Width="120"/>
                                <TextBox Name="txtSeedNetmask" Width="150" ToolTip="Optional if using CIDR format"/>
                            </StackPanel>
                            <TextBlock Text="Example: 192.168.0.0/24 or 192.168.0.0 with netmask 255.255.254.0" 
                                       FontStyle="Italic" Foreground="Gray" Margin="100,0,0,0" FontSize="11" TextWrapping="Wrap"/>
                        </StackPanel>
                        
                        <ListBox Name="lstSeeds" Grid.Row="1" Margin="0,0,0,8"/>
                        
                        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right">
                            <Button Content="Add" Width="70" Margin="0,0,4,0" Click="BtnSeedAdd_Click"/>
                            <Button Content="Change" Width="70" Margin="0,0,4,0" Click="BtnSeedChange_Click"/>
                            <Button Content="Delete" Width="70" Click="BtnSeedDelete_Click"/>
                        </StackPanel>
                    </Grid>
                </TabItem>
                
                <!-- Comm Tab -->
                <TabItem Header="Comm">
                    <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="12">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            
                            <TextBlock Grid.Row="0" Text="Community Strings:" FontWeight="Bold" Margin="0,0,0,8"/>
                            
                            <ListBox Name="lstCommunities" Grid.Row="1" Margin="0,0,0,8"/>
                            
                            <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right">
                                <Button Content="Add" Width="70" Margin="0,0,4,0" Click="BtnCommAdd_Click"/>
                                <Button Content="Edit" Width="70" Margin="0,0,4,0" Click="BtnCommEdit_Click"/>
                                <Button Content="Delete" Width="70" Click="BtnCommDelete_Click"/>
                            </StackPanel>
                        </Grid>
                    </ScrollViewer>
                </TabItem>
                
                <!-- Filters Tab -->
                <TabItem Header="Filters">
                    <Grid Margin="12">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        
                        <StackPanel Grid.Row="0" Margin="0,0,0,12">
                            <GroupBox Header="Address Range Filter" Margin="0,0,0,12">
                                <StackPanel Margin="8">
                                    <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                                        <TextBlock Text="Address Range:" VerticalAlignment="Center" Width="100"/>
                                        <TextBox Name="txtAddressRange" Width="200" Margin="0,0,8,0"/>
                                        <Button Content="Add" Width="70" Click="BtnFilterAddressAdd_Click"/>
                                    </StackPanel>
                                </StackPanel>
                            </GroupBox>
                            
                            <GroupBox Header="Maker Filter (sysDescr)" Margin="0,0,0,12">
                                <StackPanel Margin="8">
                                    <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                                        <TextBlock Text="Maker Pattern:" VerticalAlignment="Center" Width="100"/>
                                        <TextBox Name="txtMakerPattern" Width="200" Text="ntt*" Margin="0,0,8,0"/>
                                        <Button Content="Add" Width="70" Click="BtnFilterMakerAdd_Click"/>
                                    </StackPanel>
                                </StackPanel>
                            </GroupBox>
                            
                            <GroupBox Header="Device Pattern Filter (sysName)">
                                <StackPanel Margin="8">
                                    <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                                        <TextBlock Text="Device Pattern:" VerticalAlignment="Center" Width="100"/>
                                        <TextBox Name="txtDeviceNamePattern" Width="200" Text="hv*" Margin="0,0,8,0"/>
                                        <TextBlock Text="hv* hc* mv*" VerticalAlignment="Center" Margin="0,0,8,0" Foreground="Gray"/>
                                        <Button Content="Add" Width="70" Click="BtnFilterDeviceNameAdd_Click"/>
                                    </StackPanel>
                                </StackPanel>
                            </GroupBox>
                        </StackPanel>
                        
                        <ListBox Name="lstFilters" Grid.Row="1" Margin="0,0,0,8">
                            <ListBox.ItemTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding}" VerticalAlignment="Center"/>
                                </DataTemplate>
                            </ListBox.ItemTemplate>
                        </ListBox>
                        
                        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right">
                            <Button Content="Change" Width="70" Margin="0,0,4,0" Click="BtnFilterChange_Click"/>
                            <Button Content="Delete" Width="70" Click="BtnFilterDelete_Click"/>
                        </StackPanel>
                    </Grid>
                </TabItem>
            </TabControl>
        </Grid>
        
        <!-- Bottom: Layout Options and Buttons -->
        <Grid Grid.Row="1">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            
            <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,12">
                <TextBlock Text="Layout:" VerticalAlignment="Center" Margin="0,0,8,0"/>
                <ComboBox Name="cmbLayout" Width="180" SelectedIndex="0">
                    <ComboBoxItem Content="Top Level/Incremental"/>
                    <ComboBoxItem Content="Top Level/Complete"/>
                </ComboBox>
                <CheckBox Name="chkEnablePollAfterLayout" Content="Enable Poll After Layout" IsChecked="True" Margin="16,0,0,0" VerticalAlignment="Center"/>
                <CheckBox Name="chkUseFullDnsName" Content="Use full DNS name in map" Margin="16,0,0,0" VerticalAlignment="Center"/>
                <CheckBox Name="chkLocationDiscoveryLayout" Content="Location discovery layout" Margin="16,0,0,0" VerticalAlignment="Center"/>
            </StackPanel>
            
            <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Right">
                <Button Name="btnDelete" Content="Delete" Width="75" Height="28" Margin="0,0,8,0" Click="BtnDelete_Click" IsEnabled="False"/>
                <Button Content="Default" Width="75" Height="28" Margin="0,0,8,0" Click="BtnDefault_Click"/>
                <Button Content="OK" Width="75" Height="28" Margin="0,0,8,0" IsDefault="True" Click="BtnOk_Click"/>
                <Button Content="Cancel" Width="75" Height="28" Margin="0,0,8,0" IsCancel="True"/>
                <Button Content="Help" Width="75" Height="28" Click="BtnHelp_Click"/>
            </StackPanel>
        </Grid>
    </Grid>
</Window>

