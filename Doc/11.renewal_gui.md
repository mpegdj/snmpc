# GUI Renewal 계획

## 목표

SNMPc 원래 화면 구조를 VS Code 스타일로 현대적으로 재구성

---

## 최종 구조

```
┌─────────────────────────────────────────────────────────┐
│ Menu Bar (한 줄)                                         │
├─────────────────────────────────────────────────────────┤
│ ToolBar (Menu Bar 아래)                                  │
├──────────┬──────────────────────────────────────────────┤
│ [Map][MIB│                                              │
│ [Search] │                                              │
│ [Event]  │                                              │
│ [Settings│                                              │
│          │                                              │
│ Sidebar  │     Editor Area (TabControl)                │
│          │                                              │
│ (Activity│                                              │
│  Bar     │                                              │
│  선택에   │                                              │
│  따라     │                                              │
│  변경)    │                                              │
│          │                                              │
├──────────┴──────────────────────────────────────────────┤
│ Log View (하단 전체)                                     │
└─────────────────────────────────────────────────────────┘
```

---

## 레이아웃 구조

### 1. 상단 영역

#### Menu Bar (맨 위 한 줄)
- 현재 Menu Bar 유지
- File, View, Window, Config, Tools, Help

#### ToolBar (Menu Bar 바로 아래)
- 현재 ToolBar 유지
- Find Map Objects, Edit Properties, Remove Device
- Start Poll, Stop Poll, Clear Log
- Map View Back/Forward/Parent, Root Subnet
- Map/MIB ComboBox

### 2. 중앙 영역 (좌우 분할)

#### 왼쪽: Sidebar (280px 너비)

**Sidebar 헤더 (Activity Bar 통합)**
- Activity Bar 버튼들이 헤더에 가로로 배치됨
- [Map][MIB][Search][Event][Settings] 버튼
- VS Code Activity Bar 스타일
- "EXPLORER" 텍스트 제거됨
- Toggle 버튼 제거됨 (나중에 각 윈도우에 추가 예정)

**Sidebar 본문**
- Activity Bar 선택에 따라 내용 변경
- Map 선택 → SidebarMapView (Map Tree)
- MIB 선택 → SidebarMibView (MIB Tree)
- Search 선택 → Search View (추가 필요)
- Event 선택 → Event View (추가 필요)
- Settings 선택 → Settings View (추가 필요)

#### 오른쪽: Editor Area

**TabControl (현재와 동일)**
- Dashboard
- Map View
- Device
- Alarms
- Performance
- MIB Table
- MIB Graph
- SNMP Test

### 3. 하단 영역

#### Log View (전체 너비, 220px 높이)
- 현재 BottomPanel 유지
- Event Log, Output, Terminal 탭
- 현재는 Event Log만 구현됨

---

## Grid 구조

```xml
<DockPanel>
    <!-- Menu Bar (맨 위) -->
    <Menu DockPanel.Dock="Top">
        <!-- 기존 Menu 내용 -->
    </Menu>
    
    <!-- ToolBar (Menu Bar 아래) -->
    <ToolBarTray DockPanel.Dock="Top">
        <ToolBar>
            <!-- 기존 ToolBar 내용 -->
        </ToolBar>
    </ToolBarTray>
    
    <!-- 하단: Log View -->
    <views:BottomPanel DockPanel.Dock="Bottom" Height="220"/>
    
    <!-- 중앙: Sidebar + Editor -->
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="280"/>     <!-- Sidebar (Activity Bar 포함) -->
            <ColumnDefinition Width="1"/>       <!-- Splitter -->
            <ColumnDefinition Width="*"/>       <!-- Editor Area -->
        </Grid.ColumnDefinitions>
        
        <!-- Sidebar (Activity Bar가 헤더에 통합됨) -->
        <views:Sidebar Grid.Column="0"
                       x:Name="sidebar"
                       HeaderText="EXPLORER"/>
        
        <!-- Splitter -->
        <GridSplitter Grid.Column="1"
                     Width="1"
                     HorizontalAlignment="Stretch"
                     VerticalAlignment="Stretch"
                     Background="{StaticResource VSCodeDivider}"/>
        
        <!-- Editor Area -->
        <TabControl Grid.Column="2" Name="tabMain" ...>
            <!-- 기존 Tab 내용들 -->
        </TabControl>
    </Grid>
</DockPanel>
```

---

## 변경 사항

### 1. Activity Bar 통합

**현재**: 상단 가로 배치 또는 왼쪽 세로 배치
**변경**: Sidebar 헤더에 가로로 통합

```xml
<!-- Sidebar.xaml 헤더 부분 -->
<Border Grid.Row="0" Style="{StaticResource PanelHeaderStyle}">
    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
        <!-- Activity Bar Buttons -->
        <Button x:Name="btnMap" ...>
            <TextBlock Text="&#xE700;"/>  <!-- Map 아이콘 -->
        </Button>
        <Button x:Name="btnMib" ...>
            <TextBlock Text="&#xE8A5;"/>  <!-- MIB 아이콘 -->
        </Button>
        <!-- ... -->
    </StackPanel>
</Border>
```

### 2. MainWindow.xaml 레이아웃 변경

**현재 구조**:
- Menu Bar
- ToolBar
- Activity Bar (상단 가로 또는 왼쪽 세로)
- Sidebar (Activity Bar 아래 또는 오른쪽)
- Editor Area
- Bottom Panel

**변경 후 구조**:
- Menu Bar
- ToolBar
- Sidebar (헤더에 Activity Bar 통합, 280px)
- Editor Area (우측)
- Bottom Panel

### 3. 영역 구분선 (VS Code 스타일)

**Window 테두리는 없고, 영역을 나누는 경계선만 사용**

- Sidebar와 Editor Area 사이: GridSplitter (1px, 얇은 경계선)
- Editor Area와 Bottom Panel 사이: GridSplitter (1px, 얇은 경계선)

**GridSplitter 스타일**:
```xml
<GridSplitter Background="{StaticResource VSCodeDivider}"/>
```

**VSCodeTheme.xaml에 이미 정의됨**:
```xml
<SolidColorBrush x:Key="VSCodeDivider" Color="#3c3c3c"/>
```

---

## 구현 단계

### Phase 1: 레이아웃 재구성 ✅ (완료)

1. **Activity Bar 통합** ✅
   - Sidebar 헤더에 Activity Bar 버튼들 가로 배치 ✅
   - [Map][MIB][Search][Event][Settings] 버튼 구현 ✅
   - "EXPLORER" 텍스트 제거 ✅
   - Toggle 버튼 제거 (나중에 각 윈도우에 추가 예정) ✅

2. **MainWindow.xaml Grid 구조 변경** ✅
   - Activity Bar 컬럼 제거 ✅
   - Sidebar를 `Grid.Column="0"`에 배치 ✅
   - Editor Area를 `Grid.Column="2"`에 배치 ✅
   - ToolBar는 Menu Bar 아래에 유지 ✅

3. **Splitter (경계선) 추가** ✅
   - Sidebar와 Editor Area 사이: GridSplitter (1px) ✅
   - 얇은 경계선으로 VS Code 스타일 구현 ✅

4. **Sidebar.xaml.cs 로직 통합** ✅
   - Activity Bar 로직을 Sidebar에 통합 ✅
   - ViewChanged 이벤트 구현 ✅

### Phase 2: 스타일 정리 ✅ (완료)

1. **GridSplitter 스타일** ✅
   - `VSCodeDivider` 색상 사용 (#E0E0E0) ✅
   - 얇은 경계선 (1px 너비) ✅

2. **전체적인 색상 및 간격 조정** ✅
   - VS Code 스타일과 일치하도록 미세 조정 ✅
   - Window 테두리 없음 (깔끔한 경계선만 사용) ✅

---

## 참고 사항

### 현재 상태 ✅
- Activity Bar: Sidebar 헤더에 가로로 통합됨
- Sidebar: Activity Bar가 헤더에 포함되어 있음
- Editor Area: TabControl 사용
- Bottom Panel: Log View

### 목표 상태 ✅ (완료)
- Activity Bar: Sidebar 헤더에 가로 배치 ✅
- Sidebar: Activity Bar가 헤더에 통합됨 ✅
- Editor Area: TabControl 유지 ✅
- Bottom Panel: Log View 유지 ✅

### Tab vs Cascade Windows
- 현재: TabControl 사용 (유지)
- 향후: Cascade Windows (MDI)로 확장 가능하도록 구조 설계
- Tab도 나쁘지 않으므로 일단 Tab 유지

---

## 예상 결과

### 장점
- ✅ VS Code 스타일의 깔끔한 레이아웃
- ✅ 공간 활용 최적화
- ✅ Activity Bar와 Sidebar의 명확한 구분
- ✅ 기존 기능 유지 (TabControl 등)
- ✅ 향후 확장 가능 (Cascade Windows 등)

### 주의사항
- Activity Bar 이벤트 핸들러는 그대로 작동해야 함
- Sidebar 내용 전환 로직은 그대로 유지
- TabControl 기능은 그대로 유지

---

**작성일**: 2025-12-26
**최종 수정일**: 2025-12-26
**상태**: Phase 1, Phase 2 완료 ✅
**구현 완료**: Activity Bar가 Sidebar 헤더에 통합되어 가로로 배치됨

