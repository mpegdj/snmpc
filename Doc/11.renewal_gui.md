# GUI Renewal 계획

## 목표

SNMPc 원래 화면 구조를 VS Code 스타일로 현대적으로 재구성

---

## 최종 구조

```
┌─────────────────────────────────────────────────────────┐
│ Menu Bar (한 줄)                                         │
├─────────────────────────────────────────────────────────┤
│ ToolBar (Menu Bar 아래)                                  │
├──────────┬──────────────────────────────────────────────┤
│          │                                              │
│ Activity │                                              │
│ Bar      │                                              │
│ (세로)   │                                              │
│          │                                              │
│ [Map]    │                                              │
│ [Mip]    │                                              │
│ [Trent]  │                                              │
│ [Event]  │                                              │
│          │                                              │
├──────────┤                                              │
│          │                                              │
│ Sidebar  │     Editor Area (TabControl)                │
│          │                                              │
│ (ActiveBar│                                              │
│  선택에   │                                              │
│  따라     │                                              │
│  변경)    │                                              │
│          │                                              │
│          │                                              │
├──────────┴──────────────────────────────────────────────┤
│ Log View (하단 전체)                                     │
└─────────────────────────────────────────────────────────┘
```

---

## 레이아웃 구조

### 1. 상단 영역

#### Menu Bar (맨 위 한 줄)
- 현재 Menu Bar 유지
- File, View, Window, Config, Tools, Help

#### ToolBar (Menu Bar 바로 아래)
- 현재 ToolBar 유지
- Find Map Objects, Edit Properties, Remove Device
- Start Poll, Stop Poll, Clear Log
- Map View Back/Forward/Parent, Root Subnet
- Map/MIB ComboBox

### 2. 중앙 영역 (좌우 분할)

#### 왼쪽: Map Tree Windows

**Activity Bar (왼쪽 세로, 48px 너비)**
- 현재 상단 가로 → 왼쪽 세로로 변경
- 아이콘 버튼 형태 유지
- Map, Mip, Trent, Event, Settings
- VS Code Activity Bar 스타일

**Sidebar (Activity Bar 오른쪽, 280px 너비)**
- Activity Bar 선택에 따라 내용 변경
- Map 선택 → SidebarMapView (Map Tree)
- Mip 선택 → SidebarMibView (MIB Tree)
- Trent 선택 → Trend View (추가 필요)
- Event 선택 → Event View (추가 필요)
- Settings 선택 → Settings View (추가 필요)

#### 오른쪽: Editor Area

**TabControl (현재와 동일)**
- Dashboard
- Map View
- Device
- Alarms
- Performance
- MIB Table
- MIB Graph
- SNMP Test

### 3. 하단 영역

#### Log View (전체 너비, 220px 높이)
- 현재 BottomPanel 유지
- Event Log, Output, Terminal 탭
- 현재는 Event Log만 구현됨

---

## Grid 구조

```xml
<DockPanel>
    <!-- Menu Bar (맨 위) -->
    <Menu DockPanel.Dock="Top">
        <!-- 기존 Menu 내용 -->
    </Menu>
    
    <!-- ToolBar (Menu Bar 아래) -->
    <ToolBarTray DockPanel.Dock="Top">
        <ToolBar>
            <!-- 기존 ToolBar 내용 -->
        </ToolBar>
    </ToolBarTray>
    
    <!-- 하단: Log View -->
    <views:BottomPanel DockPanel.Dock="Bottom" Height="220"/>
    
    <!-- 중앙: Activity Bar + Sidebar + Editor -->
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="48"/>      <!-- Activity Bar -->
            <ColumnDefinition Width="280"/>     <!-- Sidebar -->
            <ColumnDefinition Width="5"/>       <!-- Splitter -->
            <ColumnDefinition Width="*"/>       <!-- Editor Area -->
        </Grid.ColumnDefinitions>
        
        <!-- Activity Bar (왼쪽 세로) -->
        <views:ActivityBar Grid.Column="0"
                          x:Name="activityBar"
                          ViewChanged="ActivityBar_ViewChanged"/>
        
        <!-- Sidebar -->
        <views:Sidebar Grid.Column="1"
                       x:Name="sidebar"
                       HeaderText="EXPLORER"/>
        
        <!-- Splitter -->
        <GridSplitter Grid.Column="2"
                     Width="5"
                     HorizontalAlignment="Stretch"
                     VerticalAlignment="Stretch"
                     Background="{StaticResource VSCodeDivider}"/>
        
        <!-- Editor Area -->
        <Grid Grid.Column="3">
            <TabControl Name="tabMain" ...>
                <!-- 기존 Tab 내용들 -->
            </TabControl>
        </Grid>
    </Grid>
</DockPanel>
```

---

## 변경 사항

### 1. ActivityBar 변경

**현재**: 상단 가로 배치 (`Orientation="Horizontal"`)
**변경**: 왼쪽 세로 배치 (`Orientation="Vertical"`)

```xml
<!-- ActivityBar.xaml -->
<UserControl ...>
    <StackPanel Orientation="Vertical">  <!-- 세로로 변경 -->
        <Button x:Name="btnMap" ...>
            <TextBlock Text="&#xE700;"/>  <!-- Map 아이콘 -->
        </Button>
        <Button x:Name="btnMib" ...>
            <TextBlock Text="&#xE8A5;"/>  <!-- MIB 아이콘 -->
        </Button>
        <!-- ... -->
    </StackPanel>
</UserControl>
```

### 2. MainWindow.xaml 레이아웃 변경

**현재 구조**:
- Menu Bar
- ToolBar
- Activity Bar (상단 가로, 전체 너비)
- Sidebar (Activity Bar 아래)
- Editor Area
- Bottom Panel

**변경 후 구조**:
- Menu Bar
- ToolBar
- Activity Bar (왼쪽 세로, 48px)
- Sidebar (Activity Bar 오른쪽, 280px)
- Editor Area (우측)
- Bottom Panel

### 3. 영역 구분선 (VS Code 스타일)

**Window 테두리는 없고, 영역을 나누는 경계선만 사용**

- Activity Bar와 Sidebar 사이: 경계선 없음 (배경색으로 구분)
- Sidebar와 Editor Area 사이: GridSplitter (5px, 얇은 경계선)
- Editor Area와 Bottom Panel 사이: GridSplitter (5px, 얇은 경계선)

**GridSplitter 스타일**:
```xml
<GridSplitter Background="{StaticResource VSCodeDivider}"/>
```

**VSCodeTheme.xaml에 이미 정의됨**:
```xml
<SolidColorBrush x:Key="VSCodeDivider" Color="#3c3c3c"/>
```

---

## 구현 단계

### Phase 1: 레이아웃 재구성 ✅

1. **ActivityBar 변경**
   - `Orientation="Horizontal"` → `Orientation="Vertical"`
   - `Width="48"` → `Height="48"` (상단 배치에서 세로 배치로)
   - `d:DesignWidth="600"` → `d:DesignHeight="600"`

2. **MainWindow.xaml Grid 구조 변경**
   - Activity Bar를 `Grid.Column="0"`에 배치 (왼쪽 세로)
   - Sidebar를 `Grid.Column="1"`에 배치
   - Editor Area를 `Grid.Column="3"`에 배치
   - ToolBar는 Menu Bar 아래에 유지

3. **Splitter (경계선) 추가**
   - Sidebar와 Editor Area 사이: GridSplitter (5px)
   - Editor Area와 Bottom Panel 사이: GridSplitter (5px)
   - Activity Bar와 Sidebar 사이: 경계선 없음 (배경색으로 구분)

### Phase 2: 스타일 정리

1. **Activity Bar 활성 스타일 조정**
   - 세로 배치에 맞게 BorderThickness 조정
   - 현재: `BorderThickness="0,0,0,3"` (하단 강조선)
   - 세로 배치: `BorderThickness="0,0,3,0"` (오른쪽 강조선) - Sidebar와 구분

2. **GridSplitter 스타일 확인**
   - `VSCodeDivider` 색상 사용 (#3c3c3c)
   - 얇은 경계선 (5px 너비/높이)

3. **전체적인 색상 및 간격 조정**
   - VS Code 스타일과 일치하도록 미세 조정
   - Window 테두리 없음 (깔끔한 경계선만 사용)

---

## 참고 사항

### 현재 상태
- Activity Bar: 상단 가로 배치
- Sidebar: Activity Bar 아래
- Editor Area: TabControl 사용
- Bottom Panel: Log View

### 목표 상태
- Activity Bar: 왼쪽 세로 배치
- Sidebar: Activity Bar 오른쪽
- Editor Area: TabControl 유지 (현재와 동일)
- Bottom Panel: Log View 유지

### Tab vs Cascade Windows
- 현재: TabControl 사용 (유지)
- 향후: Cascade Windows (MDI)로 확장 가능하도록 구조 설계
- Tab도 나쁘지 않으므로 일단 Tab 유지

---

## 예상 결과

### 장점
- ✅ VS Code 스타일의 깔끔한 레이아웃
- ✅ 공간 활용 최적화
- ✅ Activity Bar와 Sidebar의 명확한 구분
- ✅ 기존 기능 유지 (TabControl 등)
- ✅ 향후 확장 가능 (Cascade Windows 등)

### 주의사항
- Activity Bar 이벤트 핸들러는 그대로 작동해야 함
- Sidebar 내용 전환 로직은 그대로 유지
- TabControl 기능은 그대로 유지

---

**작성일**: 2025-12-26
**상태**: 계획 단계
**다음 단계**: Phase 1 구현 시작

