네, Map Object View의 검색 결과를 파일로 저장하고 불러오는 기능을 구현하겠습니다. 먼저 현재 파일 메뉴와 관련 코드를 확인하겠습니다.

[1 tool called]

이제 UiSnmpTarget 모델을 확인하겠습니다.

[2 tools called]

이제 JSON 저장/로드를 위한 서비스와 UI를 구현하겠습니다.

[1 tool called]

이제 MainWindow.xaml에 File 메뉴와 툴바 버튼을 추가하겠습니다.

[2 tools called]

이제 MainWindow.xaml.cs에 파일 저장/로드 핸들러를 추가하겠습니다.

[4 tools called]

이제 파일 메뉴 핸들러들을 추가하겠습니다. MenuExit_Click 근처에 추가하겠습니다.

[2 tools called]

이제 OnClosed에서 저장 확인을 추가하고, 디바이스 추가 시 수정 플래그를 설정하도록 하겠습니다.

[2 tools called]

이제 디바이스 추가/삭제 시 수정 플래그를 설정하도록 하겠습니다.

[8 tools called]

이제 빌드해서 확인하겠습니다.

[2 tools called]

빌드 성공했습니다! 구현 완료된 내용을 요약하면:

## 구현 완료

### 1. File 메뉴 추가 (`MainWindow.xaml`)
- **New** (Ctrl+N): 새 맵 생성
- **Open...** (Ctrl+O): 맵 파일 열기
- **Save** (Ctrl+S): 현재 파일에 저장
- **Save As...**: 다른 이름으로 저장
- **Exit**: 종료

### 2. 툴바 버튼 추가 (`MainWindow.xaml`)
- 📄 New 버튼
- 📂 Open 버튼  
- 💾 Save 버튼

### 3. MapDataService (`Services/MapDataService.cs`)
- JSON 형식으로 Map 데이터 저장/로드
- 파일 확장자: `.snmpmap` (또는 `.json`)
- 저장 내용:
  - 모든 Subnet/Device/Goto 노드
  - 각 노드의 이름, 위치, 확장 상태
  - Device의 IP, Port, Community, Version, Timeout 등 모든 설정

### 4. MainWindow.xaml.cs 핸들러
- `MenuFileNew_Click`: 새 맵 생성 (기존 데이터 초기화)
- `MenuFileOpen_Click`: 파일 열기 다이얼로그
- `MenuFileSave_Click`: 저장 (경로 없으면 Save As 호출)
- `MenuFileSaveAs_Click`: 다른 이름으로 저장
- `ConfirmDiscardChanges`: 저장 안 된 변경사항 확인
- `MarkAsModified`: 수정 플래그 설정
- `UpdateTitle`: 타이틀바에 파일명과 수정 상태(*) 표시

### 5. 수정 추적
- Device/Subnet/Goto 추가 시 수정 플래그 설정
- 노드 삭제 시 수정 플래그 설정
- 프로그램 종료 시 저장 확인 다이얼로그

이제 Map Object를 파일로 저장하고 다시 불러올 수 있습니다!