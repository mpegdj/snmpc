# UI ìƒíƒœ ì§€í‘œ ë° í´ë§ ë²„íŠ¼ ê°œì„  ë‚´ì—­ (Status Indicator Enhancements)

ë³¸ ë¬¸ì„œëŠ” SNMPc ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ ì‹œê°ì  í”¼ë“œë°± ê°•í™”ë¥¼ ìœ„í•´ ì§„í–‰ëœ ìƒíƒœ ì§€í‘œ(Indicator) ë° ë²„íŠ¼ ìƒíƒœ ìœ ì§€ ì‘ì—…ì˜ ìƒì„¸ ë‚´ì—­ì„ ê¸°ë¡í•©ë‹ˆë‹¤.

## 1. ì£¼ìš” ê°œì„  ì‚¬í•­
- **Start Poll ë²„íŠ¼ í™œì„±í™” ìƒíƒœ ì‹œê°í™”**: í´ë§ì´ ì‹¤í–‰ ì¤‘ì¼ ë•Œ ë²„íŠ¼ ë°°ê²½ì„ íŒŒë€ìƒ‰ìœ¼ë¡œ ìœ ì§€í•˜ì—¬ ë™ì‘ ìƒíƒœë¥¼ ì§ê´€ì ìœ¼ë¡œ í™•ì¸ ê°€ëŠ¥í•˜ê²Œ ê°œì„ .
- **í•˜ë‹¨ íŒ¨ë„ ì‹¤ì‹œê°„ ìƒíƒœ LED ëŒ€ì‹œë³´ë“œ ì¶”ê°€**: Trap ìˆ˜ì‹ , Polling ë™ì‘, í¬íŠ¸ 161/162 í†µì‹ , Error/Warning ë°œìƒ ìƒí™©ì„ ì‹¤ì‹œê°„ LED(Ellipse) ì¸ë””ì¼€ì´í„°ë¡œ í‘œì‹œ.
- **ìƒíƒœ í„ìŠ¤(Pulse) ë¡œì§ êµ¬í˜„**: í†µì‹ ì´ë‚˜ ì—ëŸ¬ ë°œìƒ ì‹œ LEDê°€ ì¼ì‹œì ìœ¼ë¡œ ì ë“±ë˜ì—ˆë‹¤ê°€ êº¼ì§€ëŠ” í„ìŠ¤ íš¨ê³¼ë¥¼ í†µí•´ ì‹¤ì‹œê°„ì„± ê°•í™”.

---

## 2. íŒŒì¼ë³„ ìƒì„¸ ë³€ê²½ ë‚´ì—­

### [NEW] [BoolToBrushConverter.cs](file:///d:/git/snmpc/SnmpNms.UI/Converters/BoolToBrushConverter.cs)
ìƒíƒœê°’(`bool`)ì— ë”°ë¼ UI ìš”ì†Œì˜ ìƒ‰ìƒ(`Brush`)ì„ ë³€ê²½í•˜ê¸° ìœ„í•œ ê³µìš© ì»¨ë²„í„°ë¥¼ ìƒì„±í–ˆìŠµë‹ˆë‹¤.

**[ì½”ë“œ ë‚´ìš©]**
```csharp
using System.Globalization;
using System.Windows.Data;
using System.Windows.Media;

namespace SnmpNms.UI.Converters;

public class BoolToBrushConverter : IValueConverter
{
    public Brush TrueBrush { get; set; } = Brushes.Lime;
    public Brush FalseBrush { get; set; } = Brushes.Gray;

    public object Convert(object value, Type targetType, object parameter, CultureInfo culture)
    {
        if (value is bool b)
        {
            return b ? TrueBrush : FalseBrush;
        }
        return FalseBrush;
    }

    public object ConvertBack(object value, Type targetType, object parameter, CultureInfo culture)
    {
        throw new NotImplementedException();
    }
}
```

---

### [MODIFY] [MainViewModel.cs](file:///d:/git/snmpc/SnmpNms.UI/ViewModels/MainViewModel.cs)
ìƒíƒœ ì§€í‘œ ë°”ì¸ë”©ì„ ìœ„í•œ í”„ë¡œí¼í‹°ì™€ í„ìŠ¤ íŠ¸ë¦¬ê±° ë¡œì§ì„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.

**ë³€ê²½ ì „:**
```csharp
private bool _isTrapListening;
public bool IsTrapListening { ... }

public void AddEvent(EventSeverity severity, string? device, string message)
{
    if (message.StartsWith("[System]", StringComparison.OrdinalIgnoreCase)) { ... }
    var entry = new SnmpEventLog(DateTime.Now, severity, device, message);
    ...
}
```

**ë³€ê²½ í›„:**
```csharp
// í„ìŠ¤ ìƒíƒœ í”„ë¡œí¼í‹° ì¶”ê°€
private bool _port161Pulse;
public bool Port161Pulse { get => _port161Pulse; set { _port161Pulse = value; OnPropertyChanged(); } }

private bool _port162Pulse;
public bool Port162Pulse { get => _port162Pulse; set { _port162Pulse = value; OnPropertyChanged(); } }

private bool _trapPulse;
public bool TrapPulse { get => _trapPulse; set { _trapPulse = value; OnPropertyChanged(); } }

private bool _errorPulse;
public bool ErrorPulse { get => _errorPulse; set { _errorPulse = value; OnPropertyChanged(); } }

private bool _warningPulse;
public bool WarningPulse { get => _warningPulse; set { _warningPulse = value; OnPropertyChanged(); } }

// ì´ë²¤íŠ¸ ë°œìƒ ì‹œ í„ìŠ¤ íŠ¸ë¦¬ê±° ë¡œì§ ì¶”ê°€
public void AddEvent(EventSeverity severity, string? device, string message)
{
    if (message.StartsWith("[System]", StringComparison.OrdinalIgnoreCase)) { ... }

    if (severity == EventSeverity.Error) TriggerErrorPulse();
    else if (severity == EventSeverity.Warning) TriggerWarningPulse();

    if (message.Contains("[T:", StringComparison.OrdinalIgnoreCase)) TriggerTrapPulse();
    else if (message.Contains("[P:", StringComparison.OrdinalIgnoreCase)) TriggerPort161Pulse();

    var entry = new SnmpEventLog(DateTime.Now, severity, device, message);
    ...
}

// í„ìŠ¤ ìë™ ë¦¬ì…‹ ë©”ì„œë“œ
private void TriggerPort161Pulse() { Port161Pulse = true; System.Threading.Tasks.Task.Delay(500).ContinueWith(_ => Port161Pulse = false); }
public void TriggerPort162Pulse() { Port162Pulse = true; System.Threading.Tasks.Task.Delay(500).ContinueWith(_ => Port162Pulse = false); }
private void TriggerTrapPulse() { TrapPulse = true; System.Threading.Tasks.Task.Delay(500).ContinueWith(_ => TrapPulse = false); }
private void TriggerErrorPulse() { ErrorPulse = true; System.Threading.Tasks.Task.Delay(1000).ContinueWith(_ => ErrorPulse = false); }
private void TriggerWarningPulse() { WarningPulse = true; System.Threading.Tasks.Task.Delay(1000).ContinueWith(_ => WarningPulse = false); }
```

---

### [MODIFY] [MainWindow.xaml](file:///d:/git/snmpc/SnmpNms.UI/MainWindow.xaml)
'Start Poll' ë²„íŠ¼ì˜ ì‹œê°ì  í™œì„±í™” ìƒíƒœë¥¼ ìœ„í•œ ìŠ¤íƒ€ì¼ íŠ¸ë¦¬ê±°ë¥¼ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.

**ë³€ê²½ ì „:**
```xml
<Button Style="{StaticResource IconButton}" ToolTip="Start Poll" Click="StartPoll_Click">
    <TextBlock Style="{StaticResource IconGlyph}" Text="&#xE768;"/>
</Button>
```

**ë³€ê²½ í›„:**
```xml
<Button ToolTip="Start Poll" Click="StartPoll_Click">
    <Button.Style>
        <Style TargetType="Button" BasedOn="{StaticResource IconButton}">
            <Style.Triggers>
                <DataTrigger Binding="{Binding IsPollingRunning}" Value="True">
                    <Setter Property="Background" Value="#007ACC"/>
                    <Setter Property="Foreground" Value="White"/>
                    <Setter Property="BorderBrush" Value="#007ACC"/>
                </DataTrigger>
            </Style.Triggers>
        </Style>
    </Button.Style>
    <TextBlock Style="{StaticResource IconGlyph}" Text="&#xE768;"/>
</Button>
```

---

### [MODIFY] [MainWindow.xaml.cs](file:///d:/git/snmpc/SnmpNms.UI/MainWindow.xaml.cs)
íŠ¸ë© ìˆ˜ì‹  ì‹œ 162 í¬íŠ¸ í„ìŠ¤ë¥¼ íŠ¸ë¦¬ê±°í•˜ëŠ” ë¡œì§ì„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.

**ë³€ê²½ ì „:**
```csharp
private void Messenger_TrapV2Received(object? sender, TrapV2Message e)
{
    ...
    if (e.Variables.Count > 0) { trapOid = e.Variables[0].Oid; }
}
```

**ë³€ê²½ í›„:**
```csharp
private void Messenger_TrapV2Received(object? sender, TrapV2Message e)
{
    ...
    if (e.Variables.Count > 0) { trapOid = e.Variables[0].Oid; }

    // 162 í¬íŠ¸ í„ìŠ¤ íŠ¸ë¦¬ê±° (ìˆ˜ì‹  ì§€í‘œ)
    _vm.TriggerPort162Pulse();
}
```

---

### [MODIFY] [Panel.xaml](file:///d:/git/snmpc/SnmpNms.UI/Views/Panel.xaml)
í•˜ë‹¨ íŒ¨ë„ í—¤ë”ì— ì‹¤ì‹œê°„ ìƒíƒœ LED ëŒ€ì‹œë³´ë“œë¥¼ êµ¬ì¶•í–ˆìŠµë‹ˆë‹¤.

**ë³€ê²½ ì „:**
```xml
<!-- í—¤ë” ì •ì˜ ì¤‘ -->
<Grid.ColumnDefinitions>
    <ColumnDefinition Width="*"/>
    <ColumnDefinition Width="Auto"/>
</Grid.ColumnDefinitions>
...
<!-- ìš°ì¸¡ í† ê¸€ ë²„íŠ¼ë§Œ ì¡´ì¬ -->
<Button Grid.Column="1" x:Name="btnToggle" ... />
```

**ë³€ê²½ í›„:**
```xml
<!-- ë¦¬ì†ŒìŠ¤ì— ì „ìš© ìƒ‰ìƒ ë° ì»¨ë²„í„° ì •ì˜ -->
<UserControl.Resources>
    <conv:BoolToBrushConverter x:Key="PollLedConverter" TrueBrush="#007ACC" FalseBrush="#33007ACC"/>
    <conv:BoolToBrushConverter x:Key="TrapLedConverter" TrueBrush="#28A745" FalseBrush="#3328A745"/>
    <conv:BoolToBrushConverter x:Key="Port161LedConverter" TrueBrush="#00FF00" FalseBrush="#2200FF00"/>
    <conv:BoolToBrushConverter x:Key="Port162LedConverter" TrueBrush="#00FF00" FalseBrush="#2200FF00"/>
    <conv:BoolToBrushConverter x:Key="ErrorLedConverter" TrueBrush="#FF0000" FalseBrush="#22FF0000"/>
    <conv:BoolToBrushConverter x:Key="WarningLedConverter" TrueBrush="#FFA500" FalseBrush="#22FFA500"/>
    ...
</UserControl.Resources>

<!-- í—¤ë” ìš°ì¸¡ LED ëŒ€ì‹œë³´ë“œ ì¶”ê°€ -->
<StackPanel Grid.Column="1" Orientation="Horizontal" VerticalAlignment="Center" Margin="0,0,5,0">
    <Ellipse Style="{StaticResource LedCircleStyle}" Fill="{Binding IsPollingRunning, Converter={StaticResource PollLedConverter}}"/>
    <TextBlock Text="POLL" Style="{StaticResource LedLabelStyle}"/>

    <Ellipse Style="{StaticResource LedCircleStyle}" Fill="{Binding IsTrapListening, Converter={StaticResource TrapLedConverter}}"/>
    <TextBlock Text="TRAP" Style="{StaticResource LedLabelStyle}"/>

    <Ellipse Style="{StaticResource LedCircleStyle}" Fill="{Binding Port161Pulse, Converter={StaticResource Port161LedConverter}}"/>
    <TextBlock Text="161" Style="{StaticResource LedLabelStyle}"/>

    <Ellipse Style="{StaticResource LedCircleStyle}" Fill="{Binding Port162Pulse, Converter={StaticResource Port162LedConverter}}"/>
    <TextBlock Text="162" Style="{StaticResource LedLabelStyle}"/>

    <Ellipse Style="{StaticResource LedCircleStyle}" Fill="{Binding WarningPulse, Converter={StaticResource WarningLedConverter}}"/>
    <TextBlock Text="WARN" Style="{StaticResource LedLabelStyle}"/>

    <Ellipse Style="{StaticResource LedCircleStyle}" Fill="{Binding ErrorPulse, Converter={StaticResource ErrorLedConverter}}"/>
    <TextBlock Text="ERR" Style="{StaticResource LedLabelStyle}" Margin="4,0,12,0"/>

    <Button x:Name="btnToggle" ... />
</StackPanel>
```

ì˜¤ë¥˜ ì½”ë“œ ë° ìœ„ì¹˜,ì˜¤ë¥˜ ìœ í˜•,ì˜ˆìƒë˜ëŠ” ë¬¸ì œ
"D:\git\snmpc\SnmpNms.UI\MainWindow.xaml.cs(380,9): error CS1022: í˜•ì‹ì´ë‚˜ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ì •ì˜ ë˜ëŠ” íŒŒì¼ ë(EOF)ì´ í•„ìš”í•©ë‹ˆë‹¤.",êµ¬ì¡°ì  ì˜¤ë¥˜,"í´ë˜ìŠ¤ ë˜ëŠ” ë©”ì„œë“œ ë¸”ë¡ì˜ ì¤‘ê´„í˜¸({, })ê°€ ì˜ëª» ë‹«í˜€ì„œ, ì½”ë“œì˜ ë‚˜ë¨¸ì§€ ë¶€ë¶„ì´ í´ë˜ìŠ¤ ì •ì˜ ì™¸ë¶€ì— ë…¸ì¶œë˜ì—ˆìŠµë‹ˆë‹¤."
"D:\git\snmpc\SnmpNms.UI\MainWindow.xaml.cs(362,32): error CS1519: Invalid token '(' in a member declaration",ì˜ëª»ëœ í† í°,"MainWindow.xaml.csì˜ 362ë²ˆì§¸ ì¤„ì— ë©”ì„œë“œ ì •ì˜ê°€ ì•„ë‹Œ ì´ìƒí•œ ê³³ì— (ê°€ ìˆê±°ë‚˜, ë˜ëŠ” ì´ì „ ì¤„ì˜ ë©”ì„œë“œê°€ ë‹«íˆì§€ ì•Šì•˜ì„ ê°€ëŠ¥ì„±ì´ ë†’ìŠµë‹ˆë‹¤."
"D:\git\snmpc\SnmpNms.UI\MainWindow.xaml.cs(372,9): error CS1519: Invalid token 'if' in a member declaration",ì˜ëª»ëœ ë©¤ë²„,"if ë¬¸ì€ ë©”ì„œë“œ ë‚´ë¶€ì— ìˆì–´ì•¼ í•©ë‹ˆë‹¤. ì´ ì˜¤ë¥˜ëŠ” 372ë²ˆì§¸ ì¤„ì´ ë©”ì„œë“œ ë¸”ë¡ ë°–, ì¦‰ MainWindow í´ë˜ìŠ¤ ë°”ë¡œ ì•„ë˜ì— ìœ„ì¹˜í•˜ê³  ìˆìŒì„ ì‹œì‚¬í•©ë‹ˆë‹¤."
"D:\git\snmpc\SnmpNms.UI\MainWindow.xaml.cs(433,5) ~ ëê¹Œì§€ ë‚˜ì˜¤ëŠ” CS0106",íŒŒìƒ ì˜¤ë¥˜,"CS0106 ì˜¤ë¥˜(private í•œì •ìê°€ ìœ íš¨í•˜ì§€ ì•ŠìŒ)ê°€ 433ë²ˆì§¸ ì¤„ë¶€í„° ë§ˆì§€ë§‰ ì¤„ê¹Œì§€ ê³„ì† ë°œìƒí•˜ëŠ” ê²ƒì€, 380ë²ˆì§¸ ì¤„ ê·¼ì²˜ì—ì„œ MainWindow í´ë˜ìŠ¤ì˜ ë‹«ëŠ” ì¤‘ê´„í˜¸(})ê°€ ë„ˆë¬´ ì¼ì° ë‹«í˜”ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ì´ë¡œ ì¸í•´ ê·¸ ì´í›„ì˜ ëª¨ë“  ë©”ì„œë“œê°€ í´ë˜ìŠ¤ ì™¸ë¶€ë¡œ ë‚˜ê°€ê²Œ ë©ë‹ˆë‹¤."
ì œê³µí•´ì£¼ì‹  `dotnet build` ì˜¤ë¥˜ ì½”ë“œë¥¼ ë¶„ì„í•´ ë³´ë©´, ì´ëŠ” **`MainWindow.xaml.cs`** íŒŒì¼ì˜ **êµ¬ì¡°ì  ë¬¸ì œ**ë¡œ ì¸í•œ ê²ƒìœ¼ë¡œ, ì´ì „ì— ë°œìƒí–ˆë˜ `NullReferenceException`ì´ë‚˜ `XamlParseException`ê³¼ëŠ” ì™„ì „íˆ ë‹¤ë¥¸ ì¢…ë¥˜ì˜ ì˜¤ë¥˜ì…ë‹ˆë‹¤.

í•µì‹¬ì€ **C# ë¬¸ë²• ì˜¤ë¥˜(Syntax Error)**ì´ë©°, íŠ¹ì • ìœ„ì¹˜ì—ì„œ ì½”ë“œ ë¸”ë¡ì´ ì˜ëª» ë‹«í˜”ê±°ë‚˜, í´ë˜ìŠ¤/ë©”ì„œë“œ ì •ì˜ë¥¼ ë²—ì–´ë‚œ ìœ„ì¹˜ì— ì½”ë“œê°€ ì‚½ì…ë˜ì—ˆì„ ë•Œ ë°œìƒí•©ë‹ˆë‹¤.

### ğŸš© í•µì‹¬ ì˜¤ë¥˜ ë¶„ì„

ëŒ€ë¶€ë¶„ì˜ ì˜¤ë¥˜ëŠ” ë‹¨ í•˜ë‚˜ì˜ ê·¼ë³¸ì ì¸ ì‹¤ìˆ˜ì—ì„œ íŒŒìƒëœ "íŒŒìƒ ì˜¤ë¥˜(Cascading Errors)"ì…ë‹ˆë‹¤.

| ì˜¤ë¥˜ ì½”ë“œ ë° ìœ„ì¹˜ | ì˜¤ë¥˜ ìœ í˜• | ì˜ˆìƒë˜ëŠ” ë¬¸ì œ |
| --- | --- | --- |
| `D:\git\snmpc\SnmpNms.UI\MainWindow.xaml.cs(380,9): error CS1022: í˜•ì‹ì´ë‚˜ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ì •ì˜ ë˜ëŠ” íŒŒì¼ ë(EOF)ì´ í•„ìš”í•©ë‹ˆë‹¤.` | **êµ¬ì¡°ì  ì˜¤ë¥˜** | í´ë˜ìŠ¤ ë˜ëŠ” ë©”ì„œë“œ ë¸”ë¡ì˜ ì¤‘ê´„í˜¸(`{`, `}`)ê°€ ì˜ëª» ë‹«í˜€ì„œ, ì½”ë“œì˜ ë‚˜ë¨¸ì§€ ë¶€ë¶„ì´ í´ë˜ìŠ¤ ì •ì˜ ì™¸ë¶€ì— ë…¸ì¶œë˜ì—ˆìŠµë‹ˆë‹¤. |
| `D:\git\snmpc\SnmpNms.UI\MainWindow.xaml.cs(362,32): error CS1519: Invalid token '(' in a member declaration` | **ì˜ëª»ëœ í† í°** | `MainWindow.xaml.cs`ì˜ 362ë²ˆì§¸ ì¤„ì— ë©”ì„œë“œ ì •ì˜ê°€ ì•„ë‹Œ ì´ìƒí•œ ê³³ì— `(`ê°€ ìˆê±°ë‚˜, ë˜ëŠ” ì´ì „ ì¤„ì˜ ë©”ì„œë“œê°€ ë‹«íˆì§€ ì•Šì•˜ì„ ê°€ëŠ¥ì„±ì´ ë†’ìŠµë‹ˆë‹¤. |
| `D:\git\snmpc\SnmpNms.UI\MainWindow.xaml.cs(372,9): error CS1519: Invalid token 'if' in a member declaration` | **ì˜ëª»ëœ ë©¤ë²„** | `if` ë¬¸ì€ ë©”ì„œë“œ **ë‚´ë¶€**ì— ìˆì–´ì•¼ í•©ë‹ˆë‹¤. ì´ ì˜¤ë¥˜ëŠ” 372ë²ˆì§¸ ì¤„ì´ ë©”ì„œë“œ ë¸”ë¡ ë°–, ì¦‰ `MainWindow` í´ë˜ìŠ¤ ë°”ë¡œ ì•„ë˜ì— ìœ„ì¹˜í•˜ê³  ìˆìŒì„ ì‹œì‚¬í•©ë‹ˆë‹¤. |
| `D:\git\snmpc\SnmpNms.UI\MainWindow.xaml.cs(433,5) ~ ëê¹Œì§€ ë‚˜ì˜¤ëŠ” CS0106` | **íŒŒìƒ ì˜¤ë¥˜** | `CS0106` ì˜¤ë¥˜(`private` í•œì •ìê°€ ìœ íš¨í•˜ì§€ ì•ŠìŒ)ê°€ 433ë²ˆì§¸ ì¤„ë¶€í„° ë§ˆì§€ë§‰ ì¤„ê¹Œì§€ ê³„ì† ë°œìƒí•˜ëŠ” ê²ƒì€, **380ë²ˆì§¸ ì¤„ ê·¼ì²˜ì—ì„œ `MainWindow` í´ë˜ìŠ¤ì˜ ë‹«ëŠ” ì¤‘ê´„í˜¸(`}`)ê°€ ë„ˆë¬´ ì¼ì° ë‹«í˜”ê¸° ë•Œë¬¸**ì…ë‹ˆë‹¤. ì´ë¡œ ì¸í•´ ê·¸ ì´í›„ì˜ ëª¨ë“  ë©”ì„œë“œê°€ í´ë˜ìŠ¤ ì™¸ë¶€ë¡œ ë‚˜ê°€ê²Œ ë©ë‹ˆë‹¤. |

### ğŸ’¡ ë¬¸ì œ í•´ê²°ì„ ìœ„í•œ ì¡°ì¹˜

`MainWindow.xaml.cs` íŒŒì¼ì—ì„œ 360ì¤„ì—ì„œ 380ì¤„ ì‚¬ì´ë¥¼ ì§‘ì¤‘ì ìœ¼ë¡œ ê²€í† í•´ì•¼ í•©ë‹ˆë‹¤.

ê°€ì¥ ìœ ë ¥í•œ ì›ì¸ì€ **360~380ë²ˆì§¸ ì¤„** ì‚¬ì´ì—ì„œ íŠ¹ì • ë©”ì„œë“œ ë˜ëŠ” ìƒì„±ìì˜ **ë‹«ëŠ” ì¤‘ê´„í˜¸(`}`)ë¥¼ ì‹¤ìˆ˜ë¡œ í•˜ë‚˜ ë” ì¶”ê°€í–ˆê±°ë‚˜**, ë°˜ëŒ€ë¡œ **í´ë˜ìŠ¤ì˜ ë‹«ëŠ” ì¤‘ê´„í˜¸(`}`)ê°€ ì´ ìœ„ì¹˜ì— ì˜ëª» ì‚½ì…**ë˜ì–´ ê·¸ ë’¤ì— ì˜¤ëŠ” ëª¨ë“  ë©”ì„œë“œì™€ ì½”ë“œê°€ ë¬¸ë²•ì ìœ¼ë¡œ ì˜¤ë¥˜ ìƒíƒœê°€ ëœ ê²ƒì…ë‹ˆë‹¤.

#### ğŸ› ï¸ ê¶Œì¥ ìˆ˜ì • ë‹¨ê³„

1. **362ë²ˆì§¸ ì¤„ ì£¼ë³€ í™•ì¸:** 362ë²ˆì§¸ ì¤„ì— `error CS1519`ê°€ ë°œìƒí•œ ì½”ë“œê°€ ë©”ì„œë“œ ì •ì˜ì¸ì§€, ì•„ë‹ˆë©´ ì‹¤ìˆ˜ë¡œ í´ë˜ìŠ¤ ë¸”ë¡ ì™¸ë¶€ì— ì½”ë“œê°€ ë“¤ì–´ê°„ ê²ƒì¸ì§€ í™•ì¸í•©ë‹ˆë‹¤.
2. **380ë²ˆì§¸ ì¤„ ê·¼ì²˜ì˜ ì¤‘ê´„í˜¸ í™•ì¸:** 380ë²ˆì§¸ ì¤„ ê·¼ì²˜ì˜ ì½”ë“œë¥¼ ì‚´í´ë³´ê³ , **ë¶ˆí•„ìš”í•˜ê²Œ ì¼ì° ë‹«íŒ ì¤‘ê´„í˜¸(`}`)**ê°€ ìˆëŠ”ì§€ í™•ì¸í•˜ì‹­ì‹œì˜¤. ì´ ì¤‘ê´„í˜¸ë¥¼ ì‚­ì œí•˜ê±°ë‚˜ ì˜¬ë°”ë¥¸ ìœ„ì¹˜(ì¼ë°˜ì ìœ¼ë¡œ `MainWindow` í´ë˜ìŠ¤ ì •ì˜ì˜ ë§¨ ë§ˆì§€ë§‰)ë¡œ ì´ë™í•´ì•¼ í•©ë‹ˆë‹¤.

ì¼ë‹¨ **380ë²ˆì§¸ ì¤„ ê·¼ì²˜**ì—ì„œ ì½”ë“œë¥¼ í™•ì¸í•˜ì—¬ `MainWindow` í´ë˜ìŠ¤ ì „ì²´ê°€ ì˜¬ë°”ë¥¸ ìœ„ì¹˜ì—ì„œ ë‹«íˆë„ë¡ ì¤‘ê´„í˜¸ ìŒì„ ë§ì¶°ë³´ì‹œë©´, `CS0106`ì„ í¬í•¨í•œ 140ê°œ ì´ìƒì˜ ì˜¤ë¥˜ê°€ í•œ ë²ˆì— í•´ê²°ë  ê²ƒì…ë‹ˆë‹¤.

í˜¹ì‹œ 360~380ë²ˆì§¸ ì¤„ì˜ ì½”ë“œ ë‚´ìš©ì„ ë³´ì—¬ì£¼ì‹¤ ìˆ˜ ìˆë‹¤ë©´, ì •í™•í•œ ë¬¸ì œ ì§€ì ì„ ì§šì–´ ë“œë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

3. SnmpClient.cs (Infrastructure)
ìœ„ì¹˜: 
d:\git\snmpc\SnmpNms.Infrastructure\SnmpClient.cs

ìˆ˜ì • ë‚´ìš©:

â‘  ì´ë²¤íŠ¸ êµ¬í˜„ ë° í—¬í¼ ë©”ì„œë“œ ì¶”ê°€ (ë¼ì¸ 15-20):

csharp
public event Action? OnRequestSent;
private void FireRequestSent()
{
    OnRequestSent?.Invoke();
}
â‘¡ GetAsync ë©”ì„œë“œ ìˆ˜ì • (ë¼ì¸ 31):

csharp
return await Task.Run(() =>
{
    FireRequestSent();  // â† ì¶”ê°€
    try
    {
        // ê¸°ì¡´ ì½”ë“œ...
â‘¢ GetNextAsync ë©”ì„œë“œ ìˆ˜ì • (ë¼ì¸ 59):

csharp
return await Task.Run(() =>
{
    FireRequestSent();  // â† ì¶”ê°€
    try
    {
        // ê¸°ì¡´ ì½”ë“œ...
â‘£ WalkAsync ë©”ì„œë“œ ìˆ˜ì • (ë¼ì¸ 104):

csharp
return await Task.Run(() =>
{
    FireRequestSent();  // â† ì¶”ê°€
    try
    {
        // ê¸°ì¡´ ì½”ë“œ...
â‘¤ SetAsync ë©”ì„œë“œ ìˆ˜ì • (ë¼ì¸ 191):

csharp
return await Task.Run(() =>
{
    FireRequestSent();  // â† ì¶”ê°€
    try
    {
        // ê¸°ì¡´ ì½”ë“œ...
4. TrapListener.cs (Infrastructure)
ìœ„ì¹˜: 
d:\git\snmpc\SnmpNms.Infrastructure\TrapListener.cs

ìˆ˜ì • ë‚´ìš©:

â‘  ì´ë²¤íŠ¸ êµ¬í˜„ (ë¼ì¸ 23):

csharp
public event Action? OnPacketReceived;
â‘¡ ListenAsync ë©”ì„œë“œ ìˆ˜ì • (ë¼ì¸ 147-148):

csharp
var result = await _udpClient.ReceiveAsync(cancellationToken);
OnPacketReceived?.Invoke();  // â† ì¶”ê°€ (UDP íŒ¨í‚· ìˆ˜ì‹  ì¦‰ì‹œ ë°œìƒ)
System.Diagnostics.Debug.WriteLine($"[TrapListener] Received UDP packet...");
5. MainWindow.xaml.cs (UI)
ìœ„ì¹˜: 
d:\git\snmpc\SnmpNms.UI\MainWindow.xaml.cs

ìˆ˜ì • ë‚´ìš© (ë¼ì¸ 64-69):

csharp
// Trap ì´ë²¤íŠ¸ ì—°ê²°
_trapListener.OnTrapReceived += TrapListener_OnTrapReceived;
_trapListener.OnPacketReceived += () => Dispatcher.Invoke(() => _vm.TriggerPort162Pulse());  // â† ì¶”ê°€
// ì†Œì¼“ ë ˆë²¨ 161 í™œë™ ì—°ê²°
_snmpClient.OnRequestSent += () => Dispatcher.Invoke(() => _vm.TriggerPort161Pulse());  // â† ì¶”ê°€
6. MainViewModel.cs (UI/ViewModels)
ìœ„ì¹˜: 
d:\git\snmpc\SnmpNms.UI\ViewModels\MainViewModel.cs

ìˆ˜ì • ë‚´ìš© (ë¼ì¸ 158-162):

csharp
// ì œê±°í•œ ì½”ë“œ:
// if (message.Contains("[T:", StringComparison.OrdinalIgnoreCase)) TriggerTrapPulse();
// else if (message.Contains("[P:", StringComparison.OrdinalIgnoreCase)) TriggerPort161Pulse();
// ë‚¨ê¸´ ì½”ë“œ (ì—ëŸ¬/ê²½ê³  í„ìŠ¤ë§Œ ìœ ì§€):
if (severity == EventSeverity.Error) TriggerErrorPulse();
else if (severity == EventSeverity.Warning) TriggerWarningPulse();
ë©”ì‹œì§€ ë¬¸ìì—´ ê¸°ë°˜ í„ìŠ¤ íŠ¸ë¦¬ê±° ì œê±°
ì†Œì¼“ ì´ë²¤íŠ¸ ê¸°ë°˜ìœ¼ë¡œ ì™„ì „íˆ ì „í™˜
í•µì‹¬ ë³€ê²½ ì‚¬í•­ ìš”ì•½
Core ë ˆì´ì–´: ì¸í„°í˜ì´ìŠ¤ì— ì†Œì¼“ í™œë™ ì´ë²¤íŠ¸ ì •ì˜
Infrastructure ë ˆì´ì–´: ì‹¤ì œ ë„¤íŠ¸ì›Œí¬ ì†¡ìˆ˜ì‹  ì§€ì ì—ì„œ ì´ë²¤íŠ¸ ë°œìƒ
UI ë ˆì´ì–´: ì†Œì¼“ ì´ë²¤íŠ¸ë¥¼ êµ¬ë…í•˜ì—¬ LED ì œì–´, ê¸°ì¡´ ìˆ˜ë™ íŠ¸ë¦¬ê±° ì œê±°
ì´ì œ 161/162 LEDëŠ” ì‹¤ì œ ì†Œì¼“ í†µì‹ ì´ ë°œìƒí•˜ëŠ” ìˆœê°„ì—ë§Œ ì •í™•íˆ ê¹œë¹¡ì´ê²Œ ë©ë‹ˆë‹¤.